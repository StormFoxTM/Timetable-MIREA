<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="author"/>
<meta name="description"/>
<link href="./assets/css/style.css" id="theme_css" media="all" rel="stylesheet" type="text/css"/>
<title></title>
</head>
<body>
<div class="sidenav">
<h3><a href="index.html">Timetable-MIREA</a></h3><p>Содержание</p><a href="main.html#Цель работы">Цель работы</a><a href="main.html#Документация пользователя">Документация пользователя</a><a href="main.html#Комментарии из кода">Комментарии из кода</a></div>
<main><h1 id="Цель работы">Цель работы</h1><p>Цель работы – выполнить анализ предметной области создания информационной системы. Сформировать требования к проектируемой информационной системе «Расписание РТУ МИРЭА»</p><h1 id="Общие сведения">Общие сведения</h1><h2 id="Список терминов и определений">Список терминов и определений</h2><p>Терминология, используемая в предметной области «Расписание РТУ МИРЭА»:</p><p>1.	ОС – Операционная система.</p><p>2.	Парсер — это программа, сервис или скрипт, который собирает данные с указанных веб-ресурсов, анализирует их и выдает в нужном формате.</p><p>3.	СУБД – Система управления базами данных.</p><h2 id="Наименование организаций – Заказчика и Разработчика">Наименование организаций – Заказчика и Разработчика</h2><p>Заказчиком системы является Российский университет РТУ МИРЭА.</p><p>Адрес заказчика: Проспект Вернадского, д. 78</p><p>Разработчиком системы является Сироткин Денис Антонович.</p><h2 id="Основания для разработки системы">Основания для разработки системы</h2><p>Работа по упрощённому способу получения расписания пользователем.</p><h2 id="Плановые сроки начала и окончания работы по созданию системы">Плановые сроки начала и окончания работы по созданию системы</h2><p>Плановый срок начала работ по созданию системы Расписание РТУ МИРЭА – 1 февраля 2023 года.</p><p>Плановый срок окончания работ по созданию системы Расписание РТУ МИРЭА – 1 июня 2023 года.</p><h2 id="Источники и порядок финансирования работ">Источники и порядок финансирования работ</h2><p>Собственные средства разработчика.</p><h2 id="Порядок оформления и предъявления заказчику результатов работ по созданию системы">Порядок оформления и предъявления заказчику результатов работ по созданию системы</h2><p>Результаты работ передаются Заказчику в порядке, определенном контрактом в соответствии с Календарным планом работ контракта на основании Актов сдачи-приема выполненных работ (этапа работ).</p><p>Документация SMM передается на машинных носителях (DVD) (в двух экземплярах). Текстовые документы, передаваемые на машинных носителях, должны быть представлены в форматах PDF.</p><p>Все материалы передаются с сопроводительными документами Исполнителя.</p><h2 id="Перечень нормативно-технических документов, методических материалов, использованных при разработке ТЗ">Перечень нормативно-технических документов, методических материалов, использованных при разработке ТЗ</h2><p>При разработке автоматизированной системы и создании проектно-эксплуатационной документации Исполнитель должен руководствоваться требованиями следующих нормативных документов:</p><p>•	ГОСТ 19.106-78. Единая система программной документации. Требования к программным документам, выполненным печатным способом;</p><p>•	ГОСТ 34.601-90. Комплекс стандартов на автоматизированные системы. Автоматизированные системы. Стадии создания;</p><p>•	ГОСТ 34.201-89. Информационная технология. Комплекс стандартов на автоматизированные системы. Виды, комплексность и обозначение документов при создании автоматизированных систем;</p><p>•	РД 50-34.698-90. Методические указания. Информационная технология. Комплекс стандартов на автоматизированные системы. Автоматизированные системы. Требования к содержанию документов.</p><h2 id="Список терминов и определений">Список терминов и определений</h2><p>Терминология, используемая в предметной области «Расписание РТУ МИРЭА»:</p><p>•	Docker — программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации, контейнеризатор приложений.</p><p>•	Docker Compose — это инструментальное средство, входящее в состав Docker, позволяет управлять набором контейнеров.</p><p>•	СУБД — комплекс программ, позволяющих создать базу данных (БД) и манипулировать данными (вставлять, обновлять, удалять и выбирать).</p><h2 id="ОПИСАНИЕ БИЗНЕС-РОЛЕЙ">ОПИСАНИЕ БИЗНЕС-РОЛЕЙ</h2><p>Пользователь – человек, авторизованный в системе, имеющий доступ ко всем возможностям портала и пользующийся ими.</p><p>Гость – человек, посетивший интернет-ресурс “Расписания РТУ МИРЭА” и/или совершивший на нем какое-либо действие.</p><p>Администратор – специалист, авторизованный в системе под специальной ролью, который отвечает за поддержание работы</p><p>сайта.</p><h1 id="Документация пользователя">Документация пользователя</h1><p>Для ответов на возможные вопросы пользователей была разработана</p><p>документация пользователя в формате Wiki. Для этого был выбран</p><p>инструмент GitHub Wiki, поскольку GitHub уже используется в проекте и</p><p>имеет нужный функционал. Также этот способ позволяет клонировать вики</p><p>на локальную машину и редактировать ее в привычном текстовом редакторе</p><p>или IDE. Сама вики написана в формате Markdown.</p><h1 id="Комментарии из кода">Комментарии из кода</h1><h4>Комментарии из файла ./parser/src/pgsql/pgsql.go:</h4><p>Модуль для работы с СУБД в парсере</p><p>Функция MainFunc основная функция, которая вызывается для добавления определённых данных в СУБД</p><p>Функция addTimetable для добавление расписания в СУБД</p><p>Функция addLecturer для добавление преподавателя в СУБД</p><p>Функция addGroup для добавление группы в СУБД</p><p>Функция addInstitute для добавление института в СУБД</p><p>Функция GetInstituteName для получение название института по его ID</p><p>Функция find_letter для поиска третий буквы в названии группы</p><p>Функция find_id_degree для определения степени обучения, которая зашифрована в 3 букве</p><h4>Комментарии из файла ./parser/src/main.go:</h4><p>Основной модуль в парсере</p><p>Функция main - основная функция</p><p>healthcheack - функция для проверки здоровья контейнера</p><p>start_script - функция для обновления данных</p><p>check_directory - функция удаления каталога 'temp' и его содержимого, а также создания каталога 'last'</p><p>loader - функция загрузки файлов в базу данных</p><p>download - функция загрузки файла по ссылке</p><p>connect - функция для установления соединения с сайтом и получение HTTP-ответа</p><p>parse_site - функция для парсинга сайта</p><p>file_comparison - функция для сравнения файлов</p><p>find_sum - функция для нахождения суммы md5</p><p>getMD5SumString - функция для получения md5-хеша</p><p>read_file - функция для чтения файла xlsx</p><p>read_list - функция для чтения данных из списка</p><p>read_data - функция которая считывает данные из excel и отправляет их в СУБД</p><p>clear_str - функция для очистки строки от лишних пробелов</p><p>cell_name - функция, которая считывает строку из ячейки excel</p><p>move_file - функция которая перемещает файл из папки temp в папку last</p><h4>Комментарии из файла ./parser/src/xls/xls.go:</h4><p>Модуль для преобразования файлов из xls в xlsx</p><p>функция Convert для преобразования xls файла в xlsx</p><h4>Комментарии из файла ./api/src/pgsql/pgsql.go:</h4><p>Модуль для работы с СУБД в API</p><p>connectToDB - функция подключения к БД PostgreSQL</p><p>Функция GetTimetableGroup возвращает расписание занятий для группы по названию group на указанный тип недели и день недели.</p><p>type_week - тип недели (1 - нечётная, 2 - чётная, 0 - все недели)</p><p>day_week - день недели (1 - понедельник, 2 - вторник, ..., 7 - воскресенье, 0 - все дни)</p><p>Функция GetTimetableLectur возвращает расписание занятий для преподавателя по имени lecturer на указанный тип недели и день недели.</p><p>type_week - тип недели (1 - нечётная, 2 - чётная, 0 - все недели)</p><p>day_week - день недели (1 - понедельник, 2 - вторник, ..., 7 - воскресенье, 0 - все дни)</p><p>Функция GetTimetableAuditorium возвращает расписание занятий для преподавателя по названию auditorium на указанный тип недели и день недели.</p><p>type_week - тип недели (1 - нечётная, 2 - чётная, 0 - все недели)</p><p>day_week - день недели (1 - понедельник, 2 - вторник, ..., 7 - воскресенье, 0 - все дни)</p><p>GetLecturerName - функция получения имени преподавателя по его идентификатору</p><p>GetGroupName - функция получения названия группы по ее идентификатору</p><p>GetLecturerID - функция получения идентификатора преподавателя по его имени</p><p>GetGroupID - функция получения идентификатора группы по ее названию</p><p>CheckAuditorium - функция проверки аудитории на наличие в расписании</p><p>GetInstituteID - функция получения идентификатора института по его названию</p><p>find_letter - функция получает название группы и вырезает из неё 3 символ</p><p>find_id_degree - функция получает 3 символ группы, который определяет степень обучения</p><h4>Комментарии из файла ./api/src/main.go:</h4><p>Основной модуль в API</p><p>Основная функция main</p><p>getUsers - функция для авторизации пользователя</p><p>postUsers - функция для регистрации пользователя</p><p>getInfo - функция для выдачи информации</p><p>getFunction - функция для выдачи расписания</p><p>get_group function: получает группу и запрашивает ее расписание из базы данных по заданным дням и неделе.</p><p>get_lecturer function: получает преподавателя и запрашивает его расписание из базы данных по заданным дням и неделе.</p><p>get_auditorium function: получает аудиторию и запрашивает ее расписание из базы данных по заданным дням и неделе.</p><p>getWeekAndDay - функция получает контекст запроса и возвращает номер недели и дня в числовом формате</p><p>check_group - функция проверки группы на наличие в расписании</p><p>check_lecturer - функция проверки преподавателя на присутствие в расписании</p><p>check_auditorium - функция проверки аудитории на наличие в расписании</p><h4>Комментарии из файла ./telegram-bot/bot.py:</h4><p>Message handler for commands `/start` and `/help`.</p><p>Message handler for command `/group`.</p><p>Message handler for command `/lecturer`.</p><p>Message handler for command `/auditorium`.</p><p>Message handler for all messages not handled by other handlers.</p><p>Message handler for user reply to group/lecturer/auditorium handler message.</p><p>Message handler for user reply to period handler message. Requests and sends timetable.</p><h4>Комментарии из файла ./telegram-bot/tools.py:</h4><p>Returns week parity (1-2) and day number (1-7) for current day.</p><p>Takes week parity and day number for a day, returns these values for next day</p><p>Takes week parity and day number for a day, returns these values for next week</p>
</main>
</body>
</html>